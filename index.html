<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgreSign: Development Roadmap</title>
    
    <!-- Google Fonts: Urbanist -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body, html {
            font-family: 'Urbanist', sans-serif;
            background-color: #F7F7F7;
            color: #1F2937;
            scroll-behavior: smooth;
        }
        .story-card {
            background-color: #FFFFFF;
            border-radius: 20px;
            border: 2px solid #F28B82; /* Apply primary border to all cards */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .story-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px -15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <header class="text-center mb-16 md:mb-24">
        <h1 class="text-5xl md:text-7xl font-extrabold tracking-tight text-gray-800">AgreSign Development Roadmap</h1>
        <p class="mt-4 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">Tracking our progress towards operational excellence.</p>
    </header>

    <main class="space-y-16 md:space-y-24">

        <!-- EPIC 1 -->
        <section class="epic-section max-w-6xl mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-700 mb-8">Epic 1: System Foundation & Core Data Models</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div id="story-1.1" class="story-card p-6">
                    <h3 class="text-xl font-bold">1.1: Foundational Project Setup</h3>
                    <p class="text-gray-600 mt-4">As a Developer, I want to set up the monorepo with a basic Django backend and React frontend, so that we have a stable and scalable foundation to build all future features upon.</p>
                </div>
                <div id="story-1.2" class="story-card p-6">
                    <h3 class="text-xl font-bold">1.2: Database Schema Creation</h3>
                    <p class="text-gray-600 mt-4">As a Developer, I want to create the initial database models for all user roles, agreements, and templates, so that the system has a database schema to store all necessary information.</p>
                </div>
                <div id="story-1.3" class="story-card p-6">
                    <h3 class="text-xl font-bold">1.3: Secure User Login</h3>
                    <p class="text-gray-600 mt-4">As a User (Admin, Student, or Sponsor), I want to log in to the system with my email and password, so that I can securely access my role-specific dashboard.</p>
                </div>
                <div id="story-1.4" class="story-card p-6">
                    <h3 class="text-xl font-bold">1.4: Role-Based Portal Routing</h3>
                    <p class="text-gray-600 mt-4">As a Developer, I want to create a main application shell that routes users based on their role, so that each user type is directed to the correct portal after logging in.</p>
                </div>
            </div>
        </section>

        <!-- EPIC 2 -->
        <section class="epic-section max-w-6xl mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-700 mb-8">Epic 2: Student & Guardian Agreement Workflow</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div id="story-2.1" class="story-card p-6">
                    <h3 class="text-xl font-bold">2.1: Partner Onboarding</h3>
                    <p class="text-gray-600 mt-4">As an Admin or Sponsor, I want a one-time setup form to enter my organization's details, so that this information can be automatically populated onto all relevant agreements.</p>
                </div>
                <div id="story-2.2" class="story-card p-6">
                    <h3 class="text-xl font-bold">2.2: Guided Student Data Collection</h3>
                    <p class="text-gray-600 mt-4">As a Student, I want to fill out a simple, guided, multi-step web form, so that I can provide all the necessary personal information for my specific SETA learnership agreement.</p>
                </div>
                <div id="story-2.3" class="story-card p-6">
                    <h3 class="text-xl font-bold">2.3: Guardian Co-Signing for Minors</h3>
                    <p class="text-gray-600 mt-4">As a Student who is a minor, I want the system to provide a section for my guardian to complete, so that my agreement can be legally co-signed.</p>
                </div>
                <div id="story-2.4" class="story-card p-6">
                    <h3 class="text-xl font-bold">2.4: Submission of Supporting Documents</h3>
                    <p class="text-gray-600 mt-4">As a Student, I want to upload my certified ID and other required documents, so that I can complete all the requirements for my agreement submission.</p>
                </div>
                <div id="story-2.5" class="story-card p-6">
                    <h3 class="text-xl font-bold">2.5: Final Review, Initialing, and Submission</h3>
                    <p class="text-gray-600 mt-4">As a Student or Guardian, I want to review my populated agreement, provide my initials, sign it digitally, and submit it, so that it can be sent to the academy for verification.</p>
                </div>
            </div>
        </section>

        <!-- EPIC 3 -->
        <section class="epic-section max-w-6xl mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-700 mb-8">Epic 3: Admin & Sponsor Signing & Finalization</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div id="story-3.1" class="story-card p-6">
                    <h3 class="text-xl font-bold">3.1: Admin Verification of Submissions</h3>
                    <p class="text-gray-600 mt-4">As an Admin, I want to review a student's submitted agreement and their supporting documents, so that I can either approve it for the next step or reject it for correction.</p>
                </div>
                <div id="story-3.2" class="story-card p-6">
                    <h3 class="text-xl font-bold">3.2: Efficient Sponsor Bulk Signing</h3>
                    <p class="text-gray-600 mt-4">As a Sponsor, I want to review and sign all pending agreements for my students in a single action, so that I can complete my task quickly and efficiently.</p>
                </div>
                <div id="story-3.3" class="story-card p-6">
                    <h3 class="text-xl font-bold">3.3: Final Academy Bulk Signing</h3>
                    <p class="text-gray-600 mt-4">As an Admin, I want to apply the final signature to all approved agreements in a single bulk action, so that I can finalize the agreements efficiently.</p>
                </div>
                <div id="story-3.4" class="story-card p-6">
                    <h3 class="text-xl font-bold">3.4: Document Finalization with Graceful Failure</h3>
                    <p class="text-gray-600 mt-4">As an Admin, I want the system to generate the final signed documents and allow me to download them, ensuring that if PDF conversion fails, I still receive the DOCX files and the system administrator is alerted.</p>
                </div>
            </div>
        </section>

        <!-- EPIC 4 -->
        <section class="epic-section max-w-6xl mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-700 mb-8">Epic 4: Advanced Administration & Integrations</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div id="story-4.1" class="story-card p-6">
                    <h3 class="text-xl font-bold">4.1: SETA Template Management</h3>
                    <p class="text-gray-600 mt-4">As an Admin, I want an interface to upload and manage different SETA DOCX templates, so that the system can support agreements from any of the 21 SETAs.</p>
                </div>
                <div id="story-4.2" class="story-card p-6">
                    <h3 class="text-xl font-bold">4.2: Visual Template Field Mapping</h3>
                    <p class="text-gray-600 mt-4">As an Admin, I want a visual tool to map system data fields to the placeholders in a new DOCX template, so that I can configure new agreement types without needing a developer.</p>
                </div>
                <div id="story-4.3" class="story-card p-6">
                    <h3 class="text-xl font-bold">4.3: Export Student Data for Reporting</h3>
                    <p class="text-gray-600 mt-4">As an Admin, I want to export student data to an Excel file, so that I can perform offline reporting and analysis.</p>
                </div>
                <div id="story-4.4" class="story-card p-6">
                    <h3 class="text-xl font-bold">4.4: Automated SharePoint Archiving</h3>
                    <p class="text-gray-600 mt-4">As an Admin, I want to configure SharePoint integration and have the system automatically push completed documents, so that our document archiving process is automated.</p>
                </div>
            </div>
        </section>

        <!-- EPIC 5 -->
        <section class="epic-section max-w-6xl mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-700 mb-8">Epic 5: User Experience & Onboarding</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div id="story-5.1" class="story-card p-6">
                    <h3 class="text-xl font-bold">5.1: Admin Guided Walkthrough</h3>
                    <p class="text-gray-600 mt-4">As a first-time Admin, I want an interactive, guided tour of the main dashboard and features, so that I can quickly learn how to use the system to manage agreements.</p>
                </div>
            </div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            gsap.registerPlugin(ScrollTrigger);

            // Animate cards into view as the user scrolls down.
            gsap.utils.toArray('.epic-section').forEach(section => {
                const cards = section.querySelectorAll('.story-card');
                
                gsap.from(cards, {
                    scrollTrigger: {
                        trigger: section,
                        start: "top 70%", // Start animation when the top of the section is 70% from the top of the viewport
                        end: "bottom top",
                        toggleActions: "play none none none",
                    },
                    y: 50,
                    opacity: 0,
                    duration: 0.8,
                    stagger: 0.15,
                    ease: "power3.out",
                });
            });
        });
    </script>
    
    <!-- 
    ================================================================
    PYTHON SCRIPT EXAMPLE FOR UPDATING THE ROADMAP
    ================================================================
    
    This script can be used to add an 'active' or 'completed' class for styling if desired.
    
    ----------------------------------------------------------------
    
    import os
    from bs4 import BeautifulSoup

    def update_roadmap_progress(html_file_path, new_active_story_id):
        try:
            with open(html_file_path, 'r', encoding='utf-8') as f:
                soup = BeautifulSoup(f, 'html.parser')

            # Remove 'active' and 'completed' from all cards first
            for card in soup.find_all(class_='story-card'):
                card.attrs['class'] = [c for c in card.attrs.get('class', []) if c not in ['active', 'completed']]

            all_stories = soup.find_all(class_='story-card')
            has_found_active = False
            
            for story in all_stories:
                if has_found_active:
                    pass 
                elif story.get('id') == new_active_story_id:
                    story.attrs['class'].append('active')
                    has_found_active = True
                else:
                    story.attrs['class'].append('completed')

            with open(html_file_path, 'w', encoding='utf-8') as f:
                f.write(str(soup))
            print(f"Successfully updated progress to '{new_active_story_id}'.")
                
        except Exception as e:
            print(f"An error occurred: {e}")

    if __name__ == '__main__':
        file_path = 'index.html' 
        next_story = "story-3.3" 
        update_roadmap_progress(file_path, next_story)
    -->

</body>
</html>
